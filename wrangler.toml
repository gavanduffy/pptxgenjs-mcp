# Cloudflare Workers configuration for PptxGenJS MCP Server
name = "pptxgenjs-mcp"
main = "dist/cloudflare-worker.js"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]

# Worker configuration
workers_dev = true

# R2 bucket bindings for PPTX file storage
[[r2_buckets]]
binding = "PPTX_BUCKET"
bucket_name = "pptx"
preview_bucket_name = "pptx-preview"

# Routes for custom domain (optional)
# routes = [
#   { pattern = "mcp.yourdomain.com/*", custom_domain = true }
# ]

# Environment variables (non-sensitive)
# Set sensitive values as secrets: wrangler secret put CLOUDFLARE_ACCOUNT_ID
[vars]
# PUBLIC_BUCKET_URL = "https://files.yourdomain.com"

# Production environment
[env.production]
name = "pptxgenjs-mcp"

# Staging environment
[env.staging]
name = "pptxgenjs-mcp-staging"

# Build configuration
[build]
command = "npm run build:worker"

# Observability
[observability]
enabled = true

# Smithery deployment metadata
[site]
# Smithery will use this metadata for deployment
# bucket = "./public"
